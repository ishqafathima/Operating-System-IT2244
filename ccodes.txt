30.05.2025 Practical

1.
//send
#include<stdio.h>
#include<sys/ipc.h> //for inter process communication
#include<sys/msg.h> //for message passing
#define MAX 10

//structure for message queue
struct mesg_buffer{
	log mesg_type;
	char mesg_text(100);
}message;

int main()
{
	key_t key;
	int msgid;
	
	//ftok to generate unique key
	key = ftok("progfile",65);
	
	//msgset creates a message queue
	//and return identifier
	msgid = msgget(key, 0666 | IPC_CREATE);
	message.mesg_type=1;
	printf("Write data : ");
	fgets(message.mesg_text,MAX,stdin);
	//msgsnd to send message
	msgsnd(msgid,&message,sizeof(message),0);
	
}
